
<div align="center">

# ğŸ‘‘ Echo of Theresia
### æ˜æ—¥æ–¹èˆŸ Â· ç‰¹é›·è¥¿å¨…è¯­éŸ³æ’ä»¶

[![AstrBot](https://img.shields.io/badge/AstrBot-Plugin-purple?style=flat-square)](https://github.com/Soulter/AstrBot)
[![Version](https://img.shields.io/badge/Version-1.1.0-pink?style=flat-square)](https://github.com/riceshowerX/Echo-of-Theresia)
[![License](https://img.shields.io/badge/License-MIT-green?style=flat-square)](LICENSE)
[![Arknights](https://img.shields.io/badge/Arknights-Theresia-black?style=flat-square)](https://ak.hypergryph.com/)

*â€œåšå£«ï¼Œå·¥ä½œè¾›è‹¦äº†ã€‚ç¨å¾®ä¼‘æ¯ä¸€ä¸‹å§ï¼Œæˆ‘ä¼šä¸€ç›´åœ¨è¿™é‡Œé™ªç€ä½ çš„ã€‚â€*

[åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) â€¢ [å®‰è£…æŒ‡å—](#-å®‰è£…æ–¹æ³•) â€¢ [èµ„æºæ˜ å°„](#-èµ„æºæ˜ å°„--resource-mapping) â€¢ [é…ç½®è¯´æ˜](#-é…ç½®è¯´æ˜)

</div>

---

## ğŸ“– ç®€ä»‹ | Introduction

**Echo of Theresia** æ˜¯ä¸º **AstrBot** é‡èº«æ‰“é€ çš„è§’è‰²è¯­éŸ³æ’ä»¶ã€‚
å®ƒä¸ä»…ä»…æ˜¯ä¸€ä¸ªè¯­éŸ³æ’­æ”¾å™¨ï¼Œæ›´è¯•å›¾è¿˜åŸé‚£ä½æ¸©æŸ”çš„ã€Œå·´åˆ«å¡”æ¶çµã€ã€‚æ’ä»¶å†…ç½®äº† **æƒ…æ„Ÿæ£€æµ‹** ä¸ **ä½œæ¯å…³æ€€** ç³»ç»Ÿï¼Œèƒ½å¤Ÿæ„ŸçŸ¥åšå£«çš„æƒ…ç»ªä¸çŠ¶æ€ã€‚

æ— è®ºæ˜¯æ·±å¤œçš„åŠç¡ï¼Œè¿˜æ˜¯å—æŒ«æ—¶çš„å®‰æ…°ï¼Œç‰¹é›·è¥¿å¨…éƒ½ä¼šç”¨å¥¹æ¸©æŸ”çš„å£°éŸ³å›åº”ä½ çš„æœŸå¾…ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§ | Features

| åŠŸèƒ½æ¨¡å— | è¯¦ç»†è¯´æ˜ |
| :--- | :--- |
| â¤ï¸ **æƒ…æ„Ÿå…±é¸£** | **[æ–°åŠŸèƒ½]** èƒ½å¤Ÿæ„ŸçŸ¥æƒ…ç»ªã€‚å½“ä½ å‘é€â€œç´¯â€ã€â€œéš¾è¿‡â€ã€â€œç—›è‹¦â€æ—¶ï¼Œå¥¹ä¼šä¼˜å…ˆå›å¤æ²»æ„ˆ/é¼“åŠ±ç±»è¯­éŸ³ã€‚ |
| ğŸŒ™ **ç†æ™ºæŠ¤èˆª** | **[æ–°åŠŸèƒ½]** æ·±å¤œ (01:00-05:00) è‹¥æ£€æµ‹åˆ°åšå£«è¿˜åœ¨å‘è¨€ï¼Œå¼ºåˆ¶è§¦å‘â€œåŠç¡â€é€»è¾‘ï¼Œæ¸©æŸ”å‚¬ä¿ƒä¼‘æ¯ã€‚ |
| ğŸ›¡ï¸ **æ™ºèƒ½é˜²å†²çª** | ç‹¬å®¶ç®—æ³•ä¼˜åŒ–ï¼Œå½»åº•è§£å†³ã€Œå…³é”®è¯è§¦å‘ã€ä¸ã€ŒæŒ‡ä»¤è¾“å…¥ã€çš„å†²çªé—®é¢˜ã€‚ |
| ğŸ’¬ **è‡ªç„¶äº¤äº’** | èŠå¤©ä¸­è‡ªç„¶æåˆ°ã€Œç‰¹é›·è¥¿å¨…ã€å³å¯è§¦å‘éšæœºè¯­éŸ³ï¼Œæ— éœ€åˆ»æ„è¾“å…¥æŒ‡ä»¤ã€‚ |
| ğŸ•’ **ç²¾å‡†å®šæ—¶** | æ”¯æŒ **æ¯æ—¥/æ¯å‘¨/æ¯å°æ—¶/ä»…ä¸€æ¬¡** å››ç§é¢‘ç‡ï¼Œæ”¯æŒé…ç½®çƒ­æ›´æ–°ï¼ˆæ— éœ€é‡å¯ï¼‰ã€‚ |
| âš™ï¸ **å¯è§†åŒ–é…ç½®** | æä¾› `config_schema.json`ï¼Œæ”¯æŒåœ¨ AstrBot Web ç®¡ç†é¢æ¿ç›´æ¥ä¿®æ”¹è®¾ç½®ã€‚ |
| ğŸ“¦ **å¼€ç®±å³ç”¨** | å®Œç¾é€‚é… PRTS Wiki çš„é»˜è®¤æ–‡ä»¶åï¼Œ**æ— éœ€é‡å‘½å**å³å¯è¯†åˆ«åŠŸèƒ½æ ‡ç­¾ã€‚ |

---

## ğŸš€ å®‰è£…æ–¹æ³• | Installation

### å‰ç½®è¦æ±‚
è¯·ç¡®ä¿æœåŠ¡å™¨/æœ¬åœ°ç¯å¢ƒå·²å®‰è£… **ffmpeg**ï¼Œå¦åˆ™æ— æ³•å‘é€è¯­éŸ³æ¶ˆæ¯ã€‚

### æ–¹å¼ä¸€ï¼šé€šè¿‡ GitHub ä»“åº“é“¾æ¥å®‰è£…ï¼ˆæ¨èï¼‰

1. æ‰“å¼€ AstrBot ç®¡ç†é¢æ¿æˆ–æ§åˆ¶å°ã€‚
2. æ‰¾åˆ° **æ’ä»¶ç®¡ç†** -> **å®‰è£…æ’ä»¶**ã€‚
3. åœ¨ã€Œä»“åº“é“¾æ¥ã€å¤„è¾“å…¥ä»¥ä¸‹åœ°å€å¹¶å®‰è£…ï¼š
   ```
   https://github.com/riceshowerX/Echo-of-Theresia
   ```

### æ–¹å¼äºŒï¼šä¸Šä¼  ZIP æ–‡ä»¶å®‰è£…

1. è®¿é—®æœ¬ä»“åº“é¦–é¡µï¼Œç‚¹å‡» **Code** -> **Download ZIP**ã€‚
2. æ‰“å¼€ AstrBot Web ç®¡ç†é¢æ¿ã€‚
3. è¿›å…¥ **æ’ä»¶ç®¡ç†**ï¼Œç‚¹å‡» **ä¸Šä¼ æ’ä»¶**ï¼Œé€‰æ‹©ä¸‹è½½å¥½çš„ ZIP æ–‡ä»¶ã€‚
4. å®‰è£…å®Œæˆåï¼Œè¯·ç‚¹å‡» **é‡è½½æ’ä»¶** æˆ–é‡å¯ AstrBotã€‚

---

## ğŸµ èµ„æºæ˜ å°„ | Resource Mapping

**æœ¬æ’ä»¶å·²å†…ç½®æ™ºèƒ½æ˜ å°„è¡¨**ã€‚æ‚¨åªéœ€ä¸‹è½½ **PRTS Wiki** çš„åŸå§‹è¯­éŸ³æ–‡ä»¶æ”¾å…¥ç›®å½•ï¼Œæ’ä»¶å³å¯è‡ªåŠ¨è¯†åˆ«å…¶ç”¨é€”ã€‚

### 1. å­˜æ”¾ä½ç½®
```text
data/plugins/echo_of_theresia/data/voices/
```

### 2. è‡ªåŠ¨è¯†åˆ«åˆ—è¡¨ (Auto-Detection)
æ— éœ€æ”¹åï¼Œåªè¦æ–‡ä»¶ååŒ…å«ä»¥ä¸‹å…³é”®è¯ï¼Œå³å¯è§¦å‘ç‰¹æ®ŠåŠŸèƒ½ï¼š

| åŸå§‹æ–‡ä»¶å (PRTS) | è‡ªåŠ¨è¯†åˆ«æ ‡ç­¾ | è§¦å‘åœºæ™¯ç¤ºä¾‹ |
| :--- | :--- | :--- |
| `é—²ç½®.mp3` | **Sanity (ç†æ™º)** | **æ·±å¤œåŠç¡**ï¼Œæˆ–å½“ä½ è¯´â€œç´¯â€ã€â€œä¼‘æ¯â€ã€â€œæ™šå®‰â€æ—¶ |
| `é€‰ä¸­å¹²å‘˜2.mp3` | **Comfort (å®‰æ…°)** | å½“ä½ è¯´â€œéš¾è¿‡â€ã€â€œå®³æ€•â€ã€â€œåˆ«æ€•â€æ—¶ |
| `éƒ¨ç½²2.mp3` | **Company (é™ªä¼´)** | å½“ä½ è¯´â€œå­¤ç‹¬â€ã€â€œæ²¡äººâ€æ—¶ |
| `ä½œæˆ˜ä¸­4.mp3` | **DontCry (åˆ«å“­)** | å½“ä½ è¯´â€œç—›è‹¦â€ã€â€œæƒ³å“­â€æ—¶ |
| `è¡ŒåŠ¨å¤±è´¥.mp3` | **Fail (é¼“åŠ±)** | å½“ä½ è¯´â€œå¤±è´¥â€ã€â€œä¸è¡Œâ€æ—¶ |
| `æˆ³ä¸€ä¸‹.mp3` | **Poke (äº’åŠ¨)** | å½“ä½ è¯´â€œæˆ³ä¸€æˆ³â€æˆ– AstrBot Nudge äº‹ä»¶ |
| `ä¿¡èµ–è§¦æ‘¸.mp3` | **Trust (ä¿¡èµ–)** | å½“ä½ è¯´â€œæŠ±æŠ±â€æ—¶ |
| `é—®å€™.mp3` | **Morning (æ—©å®‰)** | æ—©å®‰é—®å€™æˆ–å®šæ—¶ä»»åŠ¡ |

> **æç¤º**ï¼šæ·»åŠ æ–‡ä»¶åï¼Œè¯·åŠ¡å¿…å‘é€ `/theresia update` åˆ·æ–°ç´¢å¼•ã€‚

---

## ğŸ® ä½¿ç”¨å‘½ä»¤ | Commands

ä¸»æŒ‡ä»¤å‰ç¼€ï¼š`/theresia`

| å‘½ä»¤ | å‚æ•° | åŠŸèƒ½æè¿° |
| :--- | :--- | :--- |
| `/theresia` | - | æ˜¾ç¤ºèœå• |
| `/theresia voice` | `[æ ‡ç­¾]` | å‘é€è¯­éŸ³ã€‚æ”¯æŒä¸­æ–‡æ ‡ç­¾å¦‚ `/theresia voice é—®å€™` |
| `/theresia tags` | - | æŸ¥çœ‹æ‰€æœ‰å¯ç”¨æ ‡ç­¾åŠæ•°é‡ |
| `/theresia update` | - | **çƒ­æ›´æ–°**ï¼šåˆ·æ–°è¯­éŸ³åº“ç´¢å¼• |
| `/theresia set_target` | - | **å®šæ—¶**ï¼šè®¾ç½®å½“å‰ç¾¤ä¸ºæ¨é€ç›®æ ‡ |
| `/theresia unset_target` | - | **å®šæ—¶**ï¼šå–æ¶ˆæ¨é€ |
| `/theresia enable` | - | å¯ç”¨æ’ä»¶ |
| `/theresia disable` | - | ç¦ç”¨æ’ä»¶ |

---

## âš™ï¸ é…ç½®è¯´æ˜ | Configuration

å»ºè®®åœ¨ AstrBot **Web ç®¡ç†é¢æ¿** -> **æ’ä»¶é…ç½®** ä¸­ç›´æ¥ä¿®æ”¹ã€‚

### æ–°å¢åŠŸèƒ½è®¾ç½®
*   **ç†æ™ºæŠ¤èˆª (`features.sanity_mode`)**: 
    *   `true` (é»˜è®¤): å¼€å¯æ·±å¤œåŠç¡ã€‚01:00-05:00 æœŸé—´è§¦å‘äº’åŠ¨ä¼šå¼ºåˆ¶å›å¤ `é—²ç½®.mp3`ã€‚
*   **æƒ…æ„Ÿæ£€æµ‹ (`features.emotion_detect`)**:
    *   `true` (é»˜è®¤): å¼€å¯å…³é”®è¯æƒ…æ„Ÿåˆ†æã€‚æ£€æµ‹åˆ°è´Ÿé¢æƒ…ç»ªæ—¶ä¼˜å…ˆå›å¤å®‰æ…°è¯­éŸ³ã€‚

### åŸºç¡€ä¸å®šæ—¶è®¾ç½®
*   **æŒ‡ä»¤å‰ç¼€**: é»˜è®¤ä¸º `/theresia`ã€‚
*   **è§¦å‘å…³é”®è¯**: é»˜è®¤ä¸º `["ç‰¹é›·è¥¿å¨…", "ç‰¹è•¾è¥¿å¨…", "Theresia"]`ã€‚
*   **å®šæ—¶ä»»åŠ¡**: æ”¯æŒ `daily` (æ¯å¤©), `weekly` (æ¯å‘¨), `once` (ä»…ä¸€æ¬¡)ã€‚

---

## ğŸ“‚ ç›®å½•ç»“æ„

```text
echo_of_theresia/
â”œâ”€â”€ main.py              # æ ¸å¿ƒé€»è¾‘ (å«æƒ…æ„Ÿåˆ†æå¼•æ“)
â”œâ”€â”€ voice_manager.py     # èµ„æºç®¡ç† (å«æ–‡ä»¶åæ˜ å°„è¡¨)
â”œâ”€â”€ scheduler.py         # å¼‚æ­¥å®šæ—¶ä»»åŠ¡
â”œâ”€â”€ metadata.yaml        # å…ƒæ•°æ®
â”œâ”€â”€ config_schema.json   # é…ç½®å®šä¹‰
â””â”€â”€ data/
    â””â”€â”€ voices/          # [åœ¨æ­¤æ”¾å…¥è¯­éŸ³æ–‡ä»¶]
```

## ğŸ—“ï¸ æœªæ¥æ„¿æ™¯ | Roadmap

- [x] **Phase 1: ã€ŒæºçŸ³æŠ€è‰ºÂ·å…±é¸£ã€** (å·²å®è£…æƒ…æ„Ÿæ£€æµ‹)
- [x] **Phase 2: ã€Œç†æ™ºæŠ¤èˆªã€** (å·²å®è£…æ·±å¤œæ¨¡å¼)
- [ ] **Phase 3: ã€Œä¿¡èµ–è§¦æ‘¸ã€** (é€‚é… Nudge äº‹ä»¶)
- [ ] **Phase 4: ã€Œæ€ç»´é“¾ç¯ã€** (ç”Ÿæˆè§†è§‰å¡ç‰‡)

## ğŸ“¢ å…è´£å£°æ˜ä¸ç‰ˆæƒå£°æ˜ | Disclaimer & Credits

æœ¬æ’ä»¶ä¸ºç²‰ä¸è‡ªåˆ¶å¼€æºé¡¹ç›®ï¼Œä»…ä¾›å­¦ä¹ ä¸äº¤æµä½¿ç”¨ï¼Œ**ä¸¥ç¦ç”¨äºä»»ä½•å•†ä¸šç”¨é€”**ã€‚

### è¯­éŸ³èµ„æºæ¥æº
**æœ¬ä»“åº“å†…åŒ…å«çš„åŸºç¡€è¯­éŸ³æ–‡ä»¶**æ¥æºäº **[PRTS Wiki](https://prts.wiki/w/%E9%AD%94%E7%8E%8B/%E8%AF%AD%E9%9F%B3%E8%AE%B0%E5%BD%95)**ã€‚

> æœ¬ç½‘ç«™æ˜¯ç”±ã€Šæ˜æ—¥æ–¹èˆŸã€‹æ¸¸æˆçˆ±å¥½è€…ï¼Œä½¿ç”¨å…è´¹å¼€æºçš„ MediaWiki ç¨‹åºåˆ¶ä½œã€‚ç½‘ç«™æ‰€æ¶‰åŠçš„å…¬å¸åç§°ã€å•†æ ‡ã€äº§å“ç­‰å‡ä¸ºå…¶å„è‡ªæ‰€æœ‰è€…çš„èµ„äº§ï¼Œä»…ä¾›è¯†åˆ«ã€‚
>
> ç½‘ç«™å†…ä½¿ç”¨çš„æ¸¸æˆå›¾ç‰‡ã€åŠ¨ç”»ã€éŸ³é¢‘ã€æ–‡æœ¬åŸæ–‡ï¼Œå…¶ç‰ˆæƒå±äº **ä¸Šæµ·é¹°è§’ç½‘ç»œç§‘æŠ€æœ‰é™å…¬å¸** åŠå…¶å…³è”å…¬å¸ã€‚

## ğŸ¤ è´¡çŒ®ä¸åé¦ˆ

æ¬¢è¿æäº¤ [Issue](https://github.com/riceshowerX/Echo-of-Theresia/issues) æˆ– Pull Requestã€‚

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT è®¸å¯è¯](LICENSE) å¼€æºã€‚

---
<div align="center">
Made with â¤ï¸ for Theresia & Doctor
</div>